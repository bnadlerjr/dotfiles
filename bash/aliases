# Bash
alias vim="mvim -v"
alias vi="mvim -v"
alias reload="source ~/bin/dotfiles/bash/aliases"
alias ea="vi ~/bin/dotfiles/bash/aliases && reload"
alias l="ls -lgohG"
alias la="ls -AlgohG"
alias ..="cd .."
alias cdd="cd -"
alias df="df -h"
alias t="tree -C -I coverage"
alias dtstr="date +%Y%m%d%H%M%S"

# Download Ruby template from gist
function get-gist {
    curl https://raw.github.com/gist/1326310/$1
}

# Create directory, then enter it
mkcd () {
    mkdir -p "$*"
    cd "$*"
}

# Kill a process from a pid file
function pk {
    kill -9 $(cat $1)
}

# Name terminal window
function set_term_name {
    if [ $1 == 'server' ]; then
        echo -e "\033]6;1;bg;red;brightness;255\a"
        echo -e "\033]6;1;bg;green;brightness;0\a"
        echo -e "\033]6;1;bg;blue;brightness;255\a"
    elif [ $1 == 'console' ]; then
        echo -e "\033]6;1;bg;red;brightness;30\a"
        echo -e "\033]6;1;bg;green;brightness;144\a"
        echo -e "\033]6;1;bg;blue;brightness;255\a"
    elif [ $1 == 'spork' ]; then
        echo -e "\033]6;1;bg;red;brightness;255\a"
        echo -e "\033]6;1;bg;green;brightness;165\a"
        echo -e "\033]6;1;bg;blue;brightness;0\a"
    elif [ $1 == 'log' ]; then
        echo -e "\033]6;1;bg;red;brightness;155\a"
        echo -e "\033]6;1;bg;green;brightness;165\a"
        echo -e "\033]6;1;bg;blue;brightness;0\a"
    fi
    echo -ne "\033]0;$1: $2\007"
}

# ctags
alias gtag="/usr/local/bin/ctags --exclude=test --exclude=spec --exclude=.git --exclude=coverage --exclude=log -R *"

# Ruby
alias r="time bundle exec rake"
alias gemi="gem install --no-rdoc"
alias gemlr="gem list --remote"

alias mm="middleman"

function testf {
    time ruby -Itest $1
}

# Bundler
alias be="bundle exec"
alias bi="bundle install"
alias bib="bundle install --binstubs"

# Rails 3
alias rs="rails server"
alias rsd="rails server -d"
alias rg="rails generate"

# Generate a Rails 3 app using spellbook.rb
function rspell {
  rails new $1 -m ~/dev/spellbook/spellbook.rb $@
}

# Copy a custom generator in ~/.rails into a rails app
function cpgen {
  if [ ! -d "./lib/generators" ]; then
    mkdir './lib/generators'
  fi
  cp -r ~/.rails/generators/$1 lib/generators
}

# Rails General
alias fspec="time bundle exec rspec"
alias ss="./script/specs"
alias rmig="bundle exec rake db:migrate && bundle exec rake db:migrate:redo"
alias rsa="time bundle exec rake spec"
alias rsm="time bundle exec rake spec:models"
alias rsc="time bundle exec rake spec:controllers"
alias rsl="time bundle exec rake spec:lib"
alias rsr="time bundle exec rake spec:requests"
alias rsv="time bundle exec rake spec:views"
alias rtu="time bundle exec rake test:units"
alias rtf="time bundle exec rake test:functionals"
alias rti="time bundle exec rake test:integration"
alias rtl="time bundle exec rake test:lib"
alias cuke="time bundle exec rake cucumber:all"

# Open localhost on port 3000 in browser
function browse {
    open http://localhost:3000/$@
}

# Git
alias g="git st"
alias ga="git add"
alias gaa="git aa"
alias gb="git br"
alias gca="git ci -v -a"
alias gci="git ci -v"
alias gco="git co"
alias gcob="git co -b"
alias gir="git ir"
alias glff="git pullff"
alias glg="git lg"
alias gpom="git pom"
alias gup="git up"
alias gphm="git push heroku master"

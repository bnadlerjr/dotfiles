# Bash
alias vim="mvim -v"
alias vi="mvim -v"
alias reload="source ~/bin/dotfiles/bash/aliases"
alias ea="vi ~/bin/dotfiles/bash/aliases && reload"
alias l="ls -lgohG"
alias la="ls -AlgohG"
alias cls="clear"
alias ..="cd .."
alias cdd="cd -"
alias df="df -h"
alias t="tree -C"

# Create directory, then enter it
mkcd () {
    mkdir -p "$*"
    cd "$*"
}

# Kill a process from a pid file
function pk {
    kill -9 $(cat $1)
}

# Ruby
alias r="time ./bin/rake"
alias gemi="gem install --no-rdoc --no-ri"

# Bundler
alias bi="bundle install"
alias bib="bundle install --binstubs"

# Rails 3
alias rs="rails server"
alias rsd="rails server -d"
alias rg="rails generate"

# Generate a Rails 3 app using spellbook.rb
function rspell {
  rails new $1 -m ~/dev/spellbook/spellbook.rb $@
}

# Copy a custom generator in ~/.rails into a rails app
function cpgen {
  if [ ! -d "./lib/generators" ]; then
    mkdir './lib/generators'
  fi
  cp -r ~/.rails/generators/$1 lib/generators
}

# Rails < 3
alias ss="./script/server"
alias sg="./script/generate"
alias sp="./script/plugin install"
alias sc="./script/console"

# Rails General
alias rmig="./bin/rake db:migrate && ./bin/rake db:migrate:redo"
alias speca="./bin/rake spec"
alias specm="./bin/rake spec:models"
alias specv="./bin/rake spec:views"
alias specc="./bin/rake spec:controllers"
alias cuke="./bin/rake cucumber:ok"

function railsapp {
  template=$1
  appname=$2
  shift 2
  rails $appname -m $template.rb $@
}

# Open localhost on port 3000 in browser
function browse {
    open http://localhost:3000/$@
}

# Git
alias g="git status"
alias ga="git add"
alias gb="git branch"
alias gc="git commit -v"
alias gca="git commit -v -a"

function gg() {
    git commit -v -a -m "$*"
}

alias gco="git checkout"
alias gd="git diff"
alias gl="git pull"
alias gp="git push"

# Bash
alias vim="mvim -v"
alias vi="mvim -v"
alias reload="source ~/bin/dotfiles/bash/aliases"
alias ea="vi ~/bin/dotfiles/bash/aliases && reload"
alias l="ls -lgohG"
alias la="ls -AlgohG"
alias cls="clear"
alias ..="cd .."
alias cdd="cd -"
alias df="df -h"
alias t="tree -C"
alias gr="grep -Rnif /dev/stdin . <<<"

# Download Ruby template from gist
function get-gist {
    curl https://raw.github.com/gist/1326310/$1
}

# Create directory, then enter it
mkcd () {
    mkdir -p "$*"
    cd "$*"
}

# Kill a process from a pid file
function pk {
    kill -9 $(cat $1)
}

# Ruby
alias r="time bundle exec rake"
alias gemi="gem install --no-rdoc --no-ri"
alias gemlr="gem list --remote"

function testf {
    time ruby -Itest $1
}

# Bundler
alias bi="bundle install"
alias bib="bundle install --binstubs"

# Rails 3
alias rs="rails server"
alias rsd="rails server -d"
alias rg="rails generate"

# Generate a Rails 3 app using spellbook.rb
function rspell {
  rails new $1 -m ~/dev/spellbook/spellbook.rb $@
}

# Copy a custom generator in ~/.rails into a rails app
function cpgen {
  if [ ! -d "./lib/generators" ]; then
    mkdir './lib/generators'
  fi
  cp -r ~/.rails/generators/$1 lib/generators
}

# Rails < 3
alias ss="./script/server"
alias sg="./script/generate"
alias sp="./script/plugin install"
alias sc="./script/console"

# Rails General
alias fspec="time bundle exec rspec"
alias rmig="bundle exec rake db:migrate && bundle exec rake db:migrate:redo"
alias rsa="time bundle exec rake spec"
alias rsm="time bundle exec rake spec:models"
alias rsc="time bundle exec rake spec:controllers"
alias rsl="time bundle exec rake spec:lib"
alias rsr="time bundle exec rake spec:requests"
alias rsv="time bundle exec rake spec:views"
alias rtu="time bundle exec rake test:units"
alias rtf="time bundle exec rake test:functionals"
alias rti="time bundle exec rake test:integration"
alias rtl="time bundle exec rake test:lib"
alias cuke="time bundle exec rake cucumber:all"

# Open localhost on port 3000 in browser
function browse {
    open http://localhost:3000/$@
}

# Git
alias g="git status"
alias ga="git add"
alias gb="git branch"
alias gc="git commit -v"
alias gca="git commit -v -a"

function gg() {
    git commit -v -a -m "$*"
}

alias gco="git checkout"
alias gd="git diff"
alias gl="git pull"
alias gp="git push"
